<title>Cartilha JSON</title>

<meta charset="utf-8">

<link rel="stylesheet" href="../../../style.css">

<link rel="prev" href="source.html">

<link rel="next" href="btree.html">

<script src="../../../script.js"></script>

<h2 id="json">Cartilha JSON</h2>

<p>O CouchDB usa <em>JavaScript Object Notation</em> (JSON) para armaznamento de dados, um formato leve baseado em um sub-conjunto da sintaxe JavaScript. Uma das melhores coisas sobre o JSON é que ele é fácil de ler e escrever, muito mais que algo como XML. Nós podemos fazer parser naturalmente com JavaScript, por ele compartilhar da mesma sintaxe. Isto realmente traz uma facilidade quando estamos construindo aplicações web dinâmicas e queremos buscar algum dado do servidor.

<p>Aqui está um exemplo de documento JSON:

<pre>
{
    "Subject": "I like Plankton",
    "Author": "Rusty",
    "PostedDate": "2006-08-15T17:30:12-04:00",
    "Tags": [
        "plankton",
        "baseball",
        "decisions"
    ],
    "Body": "I decided today that I don't like baseball. I like plankton."
}
</pre>

<p>Você pode notar que a estrutura geral é baseada em torno de pares chave/valor e lista de valores.

<h3 id="types">Tipos de Dados</h3>

<p>O JSON tem um número de tipos de dados básicos que você pode usar. Nós iremos cobrir todos aqui.

<h4 id="numbers">Números</h4>

<p>Você pode ter inteiros positivos: <code>"Count": 253</code>

<p>ou inteiros negativos: <code>"Score": -19</code>

<p>ou ponto flutuante: <code>"Area": 456.31</code>

<div class="aside warning">
	
<p>Existe uma diferença sútil entre números de ponto flutuante e decimais. Quando você usa um número como <code>15.7</code>, isto será interpretado como <code>15.699999999999999</code> pela maioria do clientes JSON, o que poder ser problemático para sua aplicação. Por esta razão, valores monetários são normalmente melhores representados como strings em JSON. Uma string com <code>"15.7"</code> será interpretada como <code>"15.7"</code> por qualquer cliente JSON.

</div>

<p>ou notação ciêntífica: <code>"Density": 5.6e+24</code>

<h4 id="strings">Strings</h4>

<p>Você pode usar strings para valores:

<pre>
"Author": "Rusty"
</pre>

<p>Você tem escapar alguns caractéres especiais, como tabs ou quebra de linhas:

<pre>
"poem": "May I compare thee to some\n\tsalty plankton."
</pre>

<p>O <a href="http://www.json.org">site do JSON</a>tem detalhes sobre o que precisa ser escapado.

<h4 id="booleans">Booleans</h4>

<p>Você pode ter valores boolean verdadeiro:

<pre>
"Draft": true
</pre>

<p>ou valores boolean falso:

<pre>
"Draft": false
</pre>

<h4 id="arrays">Arrays</h4>

<p>Um array é uma lista de valores:

<pre>
"Tags": ["plankton", "baseball", "decisions"]
</pre>

<p>Um array pode conter qualquer outro tipo de dado, inclusive arrays:

<pre>
"Context": ["dog", [1, true], {"Location": "puddle"}]
</pre>

<h4 id="objects">Objetos</h4>

<p>Um objeto é uma lista de pares chave/valor:

<pre>
{"Subject": "I like Plankton", "Author": "Rusty"}
</pre>

<h4 id="nulls">Nulos</h4>

<p>Você pode ter valores nulos:

<pre>
"Surname": null
</pre>
